[{"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/index.js":"1","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/App.js":"2","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/reportWebVitals.js":"3","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/CandidateTable.js":"4","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/ContextTable.js":"5","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/RecommendTable.js":"6","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/SearchForm.js":"7"},{"size":543,"mtime":1765396759000,"results":"8","hashOfConfig":"9"},{"size":12105,"mtime":1765407124000,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":1765396759000,"results":"11","hashOfConfig":"9"},{"size":2128,"mtime":1765406275000,"results":"12","hashOfConfig":"9"},{"size":1881,"mtime":1765406275000,"results":"13","hashOfConfig":"9"},{"size":1666,"mtime":1765406275000,"results":"14","hashOfConfig":"9"},{"size":1223,"mtime":1765396759000,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1um87p3",{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/index.js",[],["32","33"],"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/App.js",["34"],"import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\nimport CandidateTable from './components/CandidateTable'\nimport ContextTable from './components/ContextTable'\nimport RecommendTable from './components/RecommendTable'\nimport SearchForm from './components/SearchForm'\nimport { Container, Icon, Button, Grid, Select, Modal, Header, Label, Loader, Dimmer, Segment, Dropdown } from \"semantic-ui-react\"\nimport _ from \"lodash\";\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      fullMovies: [],\n      candidates: [],\n      candidatesShow: [],\n      selected: [],\n      recommended: [],\n      searchKey: \"title\",\n      searchValue: \"\",\n      modelKey: \"EASE\",\n      modalOpen: false,\n      selectedMovie: null,\n      loadingMovies: true,\n      loadingRecommendations: false\n    }\n    this.loadMovieDB = this.loadMovieDB.bind(this);\n    this.onRefreshClick = this.onRefreshClick.bind(this)\n    this.onCandidateClick = this.onCandidateClick.bind(this)\n    this.onSelectedClick = this.onSelectedClick.bind(this)\n    this.onRecommendClick = this.onRecommendClick.bind(this)\n    this.onSearchClick = this.onSearchClick.bind(this)\n    this.onSearchChange = this.onSearchChange.bind(this)\n    this.onSelectChange = this.onSelectChange.bind(this)\n    this.onModelSelectClick = this.onModelSelectClick.bind(this)\n    this.onMovieClick = this.onMovieClick.bind(this)\n    this.closeModal = this.closeModal.bind(this)\n\n    this.loadMovieDB();\n  }\n\n  loadMovieDB(){\n    this.setState({ loadingMovies: true });\n    fetch('/init', {method: 'GET'}).then(response =>\n      response.json().then(data => {this.setState((prevState) => ({\n        fullMovies: data.result,\n        candidates: data.result,\n        candidatesShow: data.result,\n        selected: prevState.selected,\n        recommended: prevState.recommended,\n        loadingMovies: false\n      }))}))\n      .catch(() => this.setState({ loadingMovies: false }))\n  }\n\n  onRefreshClick(){\n    this.setState((prevState) => ({\n      fullMovies: prevState.fullMovies,\n      candidates: prevState.fullMovies,\n      candidatesShow: prevState.fullMovies,\n      selected: [],\n      recommended: []\n    }))\n  }\n\n  onCandidateClick(movie){\n    // check if movie already exists in candidates\n    let alreadyExists = this.state.selected.includes(movie)\n    if (!alreadyExists) {\n      let movieIndex = this.state.candidatesShow.indexOf(movie);\n      this.setState((prevState) => ({\n        ...prevState,\n        candidatesShow: [...prevState.candidatesShow.slice(0, movieIndex), ...prevState.candidatesShow.slice(movieIndex+1, prevState.candidatesShow.length)],\n        selected: [...prevState.selected, movie],\n      }))\n    }\n  }\n\n  onSelectedClick(movie){\n    let alreadyExists = this.state.selected.includes(movie)\n    if (alreadyExists) {\n      let movieIndex = this.state.selected.indexOf(movie);\n      console.log(movieIndex);\n      this.setState((prevState) => ({\n          ...prevState,\n          candidatesShow: [...prevState.candidatesShow, movie],\n          selected: [...prevState.selected.slice(0, movieIndex), ...prevState.selected.slice(movieIndex+1, prevState.selected.length)],\n        }))\n    }\n  }\n\n  onSearchChange(e, data) {\n    this.setState((prevState) => ({\n      ...prevState,\n      searchValue: e.target.value\n    }))\n  }\n\n  onSelectChange(e, data) {\n    this.setState((prevState) => ({\n      ...prevState,\n      searchKey: data.value\n    }))\n  }\n\n  onSearchClick(type, query) {\n    if (query.length < 1){\n      this.setState((prevState) => ({\n        ...prevState,\n        candidatesShow: prevState.candidates\n      }))\n    }\n    else {\n      const re = new RegExp(_.escapeRegExp(query), \"i\");\n      const isMatch = type === \"title\" ? result => re.test(result.title) : result => re.test(result.genre);\n      const results = this.state.candidates.filter(isMatch).filter(data => this.state.candidatesShow.includes(data))\n      this.setState((prevState) => ({\n        ...prevState,\n        candidatesShow: results\n      }))\n    }\n  }\n  onModelSelectClick(e, data){\n    this.setState((prevState) => ({\n      ...prevState,\n      modelKey: data.value\n    }))\n  }\n\n  onMovieClick(movie){\n    this.setState({\n      selectedMovie: movie,\n      modalOpen: true\n    })\n  }\n\n  closeModal(){\n    this.setState({\n      modalOpen: false,\n      selectedMovie: null\n    })\n  }\n  \n  onRecommendClick(){\n    if (this.state.selected.length < 1){\n      alert('Please select at least one movie to get recommendations!');\n      return;\n    }\n    this.setState({ loadingRecommendations: true });\n    // gather ids from selected list\n    let context_ids = this.state.selected.map(movie => movie.id);\n    // call recommend api\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ \n        context: context_ids,\n        model: this.state.modelKey})\n    };\n    fetch('/recommend', requestOptions)\n      .then(response => response.json())\n      .then(data => {this.setState((prevState) => ({\n        fullMovies: prevState.fullMovies,\n        candidates: prevState.candidates,\n        selected: prevState.selected,\n        recommended: data.result,\n        loadingRecommendations: false\n      }))})\n      .catch(() => {\n        alert('Error fetching recommendations. Please try again.');\n        this.setState({ loadingRecommendations: false });\n      })\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <header className=\"modern-header\">\n          <div className=\"header-left\">\n            <Icon link onClick={this.onRefreshClick} name='home' size=\"large\" />\n          </div>\n          <div className=\"header-center\">\n            <h1 className=\"app-title\">Movie Recommender System</h1>\n          </div>\n          <div className=\"header-right\">\n            <div className=\"recommendation-controls\">\n              <Dropdown\n                selection\n                compact\n                options={[\n                  { key: 'ease', text: 'EASE', value: 'EASE' },\n                  { key: 'itemknn', text: 'ItemKNN', value: 'ItemKNN' },\n                ]}\n                value={this.state.modelKey}\n                onChange={(e, data) => this.onModelSelectClick(e, data)}\n                style={{marginRight: '10px'}}\n              />\n              <Button \n                icon \n                labelPosition='left' \n                onClick={this.onRecommendClick}\n                color='red'\n                loading={this.state.loadingRecommendations}\n                disabled={this.state.selected.length < 1 || this.state.loadingRecommendations}\n              >\n                <Icon name='fire' />\n                RECOMMEND\n              </Button>\n            </div>\n            <div className=\"author-info\">\n              <span>David Omokagbor</span>\n              <a href='https://github.com/DavidOmokagbor1' target=\"_blank\" rel=\"noopener noreferrer\">\n                <Icon name='github' />\n              </a>\n              <a href='https://github.com/DavidOmokagbor1/MOvie-Recommendation' target=\"_blank\" rel=\"noopener noreferrer\">\n                <Icon name='wordpress' />\n              </a>\n            </div>\n          </div>\n        </header>\n        {/* body */}\n        <Container className=\"main-container\">\n          <Grid>\n            <Grid.Row columns={1}>\n              <Grid.Column>\n                <SearchForm \n                  onSearchChange={this.onSearchChange}\n                  onSearchClick={this.onSearchClick}\n                  onSelectChange={this.onSelectChange}\n                  searchKey={this.state.searchKey}>\n                </SearchForm>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row columns={2}>\n              <Grid.Column>\n                <Segment className=\"table-container\">\n                  <Header as=\"h3\" className=\"table-header\">\n                    <Icon name=\"list\" />\n                    Available Movies\n                  </Header>\n                  {this.state.loadingMovies ? (\n                    <Dimmer active inverted>\n                      <Loader size=\"large\">Loading Movies...</Loader>\n                    </Dimmer>\n                  ) : (\n                    <CandidateTable \n                      fullMovies={this.state.fullMovies} \n                      candidateMovies={this.state.candidatesShow}\n                      selectedMovies={this.state.selected}\n                      onEvent={this.onCandidateClick}\n                      onMovieClick={this.onMovieClick}\n                      height={600}>\n                    </CandidateTable>\n                  )}\n                </Segment>\n              </Grid.Column>\n              <Grid.Column>\n                <Segment className=\"table-container\">\n                  <Header as=\"h3\" className=\"table-header\">\n                    <Icon name=\"heart\" />\n                    Selected Movies ({this.state.selected.length})\n                  </Header>\n                  <ContextTable\n                    fullMovies={this.state.fullMovies} \n                    contextMovies={this.state.selected}\n                    onEvent={this.onSelectedClick}\n                    onMovieClick={this.onMovieClick}\n                    height={600}>\n                  </ContextTable>\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </Container>\n  \n        {/* Recommendation table */}\n        {this.state.recommended.length > 0 && (\n          <Container className=\"recommendations-container\">\n            <Segment className=\"table-container\">\n              <Header as=\"h2\" className=\"recommendations-header\">\n                <Icon name=\"star\" color=\"yellow\" />\n                Recommendations\n                {this.state.loadingRecommendations && (\n                  <Loader active inline size=\"small\" style={{marginLeft: '10px'}} />\n                )}\n              </Header>\n              <RecommendTable\n                fullMovies={this.state.fullMovies} \n                recommendMovies={this.state.recommended}\n                onMovieClick={this.onMovieClick}\n                height={500}>\n              </RecommendTable>\n            </Segment>\n          </Container>\n        )}\n        <footer className=\"modern-footer\">\n          <p>&copy; 2024 Movie Recommender System. Built with React & Flask.</p>\n        </footer>\n\n        {/* Movie Details Modal */}\n        <Modal\n          open={this.state.modalOpen}\n          onClose={this.closeModal}\n          closeIcon\n          size=\"small\"\n        >\n          <Header icon=\"film\" content=\"Movie Details\" />\n          <Modal.Content>\n            {this.state.selectedMovie && (\n              <div>\n                <Header as=\"h2\" style={{marginBottom: '20px'}}>\n                  {this.state.selectedMovie.title}\n                </Header>\n                <div style={{marginBottom: '15px'}}>\n                  <Label size=\"large\" color=\"blue\">ID: {this.state.selectedMovie.id}</Label>\n                </div>\n                <div style={{marginBottom: '15px'}}>\n                  <strong>Genre:</strong> \n                  <Label style={{marginLeft: '10px'}}>{this.state.selectedMovie.genre}</Label>\n                </div>\n                <div style={{marginBottom: '15px'}}>\n                  <strong>Release Date:</strong> {this.state.selectedMovie.date}\n                </div>\n                {this.state.selectedMovie.poster && (\n                  <div style={{marginTop: '20px', textAlign: 'center'}}>\n                    <img \n                      src={this.state.selectedMovie.poster} \n                      alt={this.state.selectedMovie.title}\n                      style={{maxWidth: '200px', maxHeight: '300px'}}\n                    />\n                  </div>\n                )}\n              </div>\n            )}\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color=\"green\" onClick={this.closeModal}>\n              Close\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default App;","/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/reportWebVitals.js",[],"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/CandidateTable.js",[],"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/ContextTable.js",[],"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/RecommendTable.js",[],"/Volumes/2-2-22/BEATZBYJAVA PRODUCTIONS WEB/MOVIE-RECOMMENDER/fullstack_recsys/react-front/src/components/SearchForm.js",[],{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","severity":1,"message":"40","line":8,"column":41,"nodeType":"41","messageId":"42","endLine":8,"endColumn":47},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"no-unused-vars","'Select' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]